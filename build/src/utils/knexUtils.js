"use strict";let knex;function initialize(knexObject){knex=knexObject}async function closeConnection(){console.log("Closing connection to database..."),await knex.destroy()}async function createTable(tableName,tableBuilder){try{console.log(`Creating "${tableName}" table...`),await knex.schema.createTable(tableName,tableBuilder),console.log(`The "${tableName}" table was successfully created.`)}catch(asyncError){await asyncError,console.log(`The "${tableName}" table already exists. Skipping.`)}}async function createTableRaw(tableBuilder){const tableName=getTableName(tableBuilder);try{console.log(`Creating "${tableName}" table...`);const result=await knex.schema.raw(tableBuilder);return console.log(`The "${tableName}" table was successfully created.`),result}catch(asyncError){await asyncError,console.log(`The "${tableName}" table already exists. Skipping.`)}}async function createIndexRaw(tableBuilder){const indexName=getIndexName(tableBuilder);try{console.log(`Creating "${indexName}" index...`),await knex.raw("CREATE INDEX itemIndex ON item ( name, description, price )"),console.log(`Successfully created "${indexName}" index.`)}catch(asyncError){await asyncError,console.log(`The "${indexName}" index already exists. Skipping.`)}}async function dropTable(tableName){try{console.log(`Dropping "${tableName}" table...`),await knex.schema.dropTable(tableName),console.log(`Successfully dropped "${tableName}" table.`)}catch(asyncError){await asyncError,console.log(`Unable to drop ${tableName} table: `,asyncError)}}function getTableName(sqlString){const subStrings=undefined,tableName=undefined;return sqlString.split('"')[1]}function getIndexName(sqlString){const subStrings=undefined,indexName=undefined;return sqlString.split(" ")[2]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dropTable=exports.createIndexRaw=exports.createTableRaw=exports.createTable=exports.closeConnection=exports.initialize=void 0,exports.initialize=initialize,exports.closeConnection=closeConnection,exports.createTable=createTable,exports.createTableRaw=createTableRaw,exports.createIndexRaw=createIndexRaw,exports.dropTable=dropTable;