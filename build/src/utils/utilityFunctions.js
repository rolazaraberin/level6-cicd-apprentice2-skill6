"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.toCloneDeep=exports.toClone=exports.toFormEntries=exports.toFields=exports.toArrayish=exports.timeout=exports.temporarilyShrink=exports.stringify=exports.serialize=exports.runCallback=exports.removeFileExtension=exports.removeElement=exports.reduceObject=exports.reduceArray=exports.reduce=exports.quoteValues=exports.pressEnter=exports.outValue=exports.outProperty=exports.outIndex=exports.noHandler=exports.matchValue=exports.matchAllProperties=exports.matchProperty=exports.matchIndex=exports.matchIsEqual=exports.mapProperties=exports.map=exports.isURL=exports.isObjectEmpty=exports.isArrayEmpty=exports.isEmpty=exports.isChar=exports.isHTMLfile=exports.isDOMobjectReady=exports.isUniqueValue=exports.hash=exports.getObjectProperties=exports.getUniqueValues=exports.getMultiArrayValue=exports.getFormEntries=exports.getCommandLineParameters=exports.generateKey=exports.floorOf=exports.filterSort=exports.find=exports.convertToTextDocument=exports.convertToHtmlDocument=exports.combine=exports.copyValuesOf=void 0;const lodash_1=require("lodash"),crypto_js_1=__importDefault(require("crypto-js"));function copyValuesOf(source,copy){let property,value;for(property in source)try{value=source[property],copy[property]=value}catch(couldntCopyValue){console.log(`Couldn't copy ${property}:${value}`)}}function combine(value1,value2){if(typeof value1!=typeof value2)throw Error("Cannot combine different types");return"string"==typeof value1?`${value1} ${value2}`:value1 instanceof Array?[...value1,...value2]:"object"==typeof value1?Object.assign(Object.assign({},value1),value2):void 0}function removeElement(element,_index,_array){element.remove()}async function convertToHtmlDocument(fileString){let htmlContent=await convertToTextDocument(fileString),htmlDocument=(new DOMParser).parseFromString(htmlContent,"text/html");return isHTMLfile(fileString)?Promise.resolve(htmlDocument):Promise.reject(htmlDocument)}async function convertToTextDocument(fileString){let fileContent=await fetch(fileString),textContent;return await fileContent.text()}function filterSort(array,isMatch){const match=undefined,notMatch=undefined;return reduce(array,toFilterSort,[[],[]]);function toFilterSort(filtered=[[],[]],value,_index,_array){const match=filtered[0],notMatch=filtered[1];return isMatch(value)?match.push(value):notMatch.push(value),filtered}}function find(collection,callback,startingIndex=0){if(0!==startingIndex)throw new Error("find() startingIndex not yet implemented");collection instanceof Array||(collection=[collection]),collection.find(callback)}function floorOf(number,decimalPlaces){const shifted=number*decimalPlaces*10,truncated=undefined,unshifted=undefined;return Math.trunc(shifted)/(10*decimalPlaces)}exports.copyValuesOf=copyValuesOf,exports.combine=combine,exports.removeElement=removeElement,exports.convertToHtmlDocument=convertToHtmlDocument,exports.convertToTextDocument=convertToTextDocument,exports.filterSort=filterSort,exports.find=find,exports.floorOf=floorOf;let numberOfKeysGenerated=0;function generateKey(){return(new Date).getTime()+"-"+numberOfKeysGenerated++}function getCommandLineParameters(){const commandLine=undefined,parameters=undefined;return process.argv.slice(2)}function getFormEntries(formElement){const fields=undefined;let entries;return reduce(formElement.querySelectorAll("[name]"),toFormEntries)}function getMultiArrayValue(indexArray,array){if(isEmpty(indexArray)){const value=undefined;return array}const index=indexArray.shift();return getMultiArrayValue(indexArray,array[index])}function getUniqueValues(array){const arrayWithUniqueValues=undefined;return array.filter(isUniqueValue)}function getObjectProperties(object){let property;const properties=[];for(property in object)properties.push(property);return properties}function hash(string){try{if(!string)return;const hashObject=crypto_js_1.default.SHA256(string),hashCode=undefined;return hashObject.toString(crypto_js_1.default.enc.Hex)}catch(error){return}}function isChar(string){return"string"==typeof string&&1===string.length}function isUniqueValue(value,index,array){return array.indexOf(value)===index}function isDOMobjectReady(DOMobject){if("loading"!==DOMobject.readyState)return DOMobject.removeEventListener("readystatechange",_listener),Promise.resolve(`${DOMobject} is ready`);function _listener(event){isDOMobjectReady(event.target)}DOMobject.addEventListener("readystatechange",_listener)}function isHTMLfile(filenameString){let htmlRegex;return/\.html$/.test(filenameString)}function isEmpty(object){return object instanceof Array?isArrayEmpty(object):object instanceof Object?isObjectEmpty(object):null==object||""===object}function isArrayEmpty(array){if(!array)return array;const numberOfValues=undefined;return 0===array.length}function isObjectEmpty(object){const numberOfValues=undefined;return 0===Object.keys(object).length}function isURL(urlString){let urlRegex;return/^http(s):\/\//i.test(urlString)}function map(collection,callback){return collection instanceof Array||(collection=[collection]),collection.map(callback)}function mapProperties(object,callback){if(!object)return[];const properties=Object.getOwnPropertyNames(object);if(!properties)return[];const results=[];return properties.forEach((property=>{const result=callback(object[property],property,object);results.push(result)})),results}function matchIsEqual(value){return function(value2,_index,_array){return(0,lodash_1.isEqual)(value,value2)}}function matchIndex(indexToMatch){return function(_value,index,_array){return index===indexToMatch}}function matchProperty(property,valueToMatch){return"string"==typeof property&&(property=[property]),function(object,_index,_array){let value=object;try{for(let stringIndex of property)value=value[stringIndex];return value===valueToMatch}catch(invalidProperty){return!1}}}function matchAllProperties(propertiesAndValues){return function(object,_index,_array){let isMatching=!0;for(let property in propertiesAndValues){const value=propertiesAndValues[property];if(isMatching=isMatching&&object[property]===value,!isMatching)return!1}return!0}}function matchValue(valueToMatch){return function(value,_index,_array){return value===valueToMatch}}function noHandler(){}function outIndex(indexToRemove){return function(_value,index,_array){return index!==indexToRemove}}function outProperty(property,valueToMatch){return"string"==typeof property&&(property=[property]),function(object,_index,_array){let value=object;for(let stringIndex of property)value=value[stringIndex];return value!==valueToMatch}}function outValue(valueToRemove){return function(value,_index,_array){return value!==valueToRemove}}function pressEnter(){return new Promise(_pressEnter);function _pressEnter(resolve,_reject){process.stdin.resume(),process.stdin.once("data",(()=>(process.stdin.pause(),resolve())))}}function quoteValues(array){if(!array)return array;const quotedArray=undefined;return array.map((value=>`"${value}"`))}function serialize(object){const serialized={};for(let property in object){const value=object[property];serialized[property]=value}return serialized}function stringify(object){const replacer=void 0,spacer=" ",string=undefined;return JSON.stringify(object,undefined," ")}function temporarilyShrink(htmlElement){let container=htmlElement.parentElement,{offsetHeight:containerHeight,offsetWidth:containerWidth}=container||{};const originalContainerSize=forceStyleSize(container,containerHeight,containerWidth),currentHeight=htmlElement.offsetHeight,currentWidth=htmlElement.offsetWidth,shrinkPercent=.05,tempHeight=undefined,tempWidth=undefined,originalElementSize=forceStyleSize(htmlElement,currentHeight-.05*currentHeight,currentWidth-.05*currentWidth),delay=100;function restoreSizes(){const originalHeight=originalElementSize.offsetHeight,originalWidth=originalElementSize.offsetWidth;forceStyleSize(htmlElement,originalHeight,originalWidth),restoreStyleSize(htmlElement,originalElementSize),restoreStyleSize(container,originalContainerSize)}setTimeout(restoreSizes,100)}function reduce(collection,callback,initialValue){return collection?collection instanceof Array?reduceArray(collection,callback,initialValue):reduceObject(collection,callback,initialValue):initialValue}function reduceArray(array,callback,initialValue){if(!(array instanceof Array))throw new Error("An array was not passed to reduceArray()");let reducedValue=initialValue;return array.forEach((function(currentValue,index,arrayCopy){reducedValue=callback(reducedValue,currentValue,index,arrayCopy)})),0===array.length&&(reducedValue=callback(reducedValue)),reducedValue}function reduceObject(object,callback,initialValue){if(object instanceof Array||"string"==typeof object||"number"==typeof object)throw new Error("An object was not passed to reduceObject()");let reducedValue=initialValue;for(let property in object){const value=undefined;reducedValue=callback(reducedValue,object[property],property,object)}return isEmpty(object)&&(reducedValue=callback(reducedValue)),reducedValue}function removeFileExtension(filename){const splitFilename=filename.split(".");splitFilename.length>2&&splitFilename.pop();const extensionRemoved=undefined;return splitFilename.join(".")}function restoreStyleSize(htmlElement,originalSizeObject){const original=originalSizeObject;htmlElement.style.height=original.style.height,htmlElement.style.width=original.style.width}function runCallback(callback,_index,_array){callback()}function forceStyleSize(htmlElement,height,width){const originalSize={style:{height:htmlElement.style.height,width:htmlElement.style.width},offsetHeight:htmlElement.offsetHeight,offsetWidth:htmlElement.offsetWidth};return htmlElement.style.height=`${height}px`,htmlElement.style.width=`${width}px`,originalSize}function timeout(milliseconds){return new Promise((function(resolvePromise){setTimeout((()=>resolvePromise("Timeout complete")),milliseconds)}))}function toArrayish(arrayish={},value,index,_array){return arrayish[index]=value,arrayish}function toFields(fieldList,object,index,_array){fieldList instanceof Array||(fieldList=[]);const fields=Object.keys(object),newFields=(0,lodash_1.difference)(fields,fieldList);return fieldList=fieldList.concat(newFields)}function toFormEntries(entries={},element,index,_array){const name=element.name,value=element.value;return name&&(entries[name]=value),entries}function toClone(value,_index,_array){return value}function toCloneDeep(value,_index,_array){return(0,lodash_1.cloneDeep)(value)}exports.generateKey=generateKey,exports.getCommandLineParameters=getCommandLineParameters,exports.getFormEntries=getFormEntries,exports.getMultiArrayValue=getMultiArrayValue,exports.getUniqueValues=getUniqueValues,exports.getObjectProperties=getObjectProperties,exports.hash=hash,exports.isChar=isChar,exports.isUniqueValue=isUniqueValue,exports.isDOMobjectReady=isDOMobjectReady,exports.isHTMLfile=isHTMLfile,exports.isEmpty=isEmpty,exports.isArrayEmpty=isArrayEmpty,exports.isObjectEmpty=isObjectEmpty,exports.isURL=isURL,exports.map=map,exports.mapProperties=mapProperties,exports.matchIsEqual=matchIsEqual,exports.matchIndex=matchIndex,exports.matchProperty=matchProperty,exports.matchAllProperties=matchAllProperties,exports.matchValue=matchValue,exports.noHandler=noHandler,exports.outIndex=outIndex,exports.outProperty=outProperty,exports.outValue=outValue,exports.pressEnter=pressEnter,exports.quoteValues=quoteValues,exports.serialize=serialize,exports.stringify=stringify,exports.temporarilyShrink=temporarilyShrink,exports.reduce=reduce,exports.reduceArray=reduceArray,exports.reduceObject=reduceObject,exports.removeFileExtension=removeFileExtension,exports.runCallback=runCallback,exports.timeout=timeout,exports.toArrayish=toArrayish,exports.toFields=toFields,exports.toFormEntries=toFormEntries,exports.toClone=toClone,exports.toCloneDeep=toCloneDeep;