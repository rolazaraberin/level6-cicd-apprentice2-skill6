"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const mail_1=__importDefault(require("@sendgrid/mail")),dotenv_1=__importDefault(require("dotenv")),errorUtils_1=require("../utils/errorUtils");dotenv_1.default.config();const sendEmail={signupConfirmation:signupConfirmation,deleteConfirmation:deleteConfirmation};function signupConfirmation(email){if(isTestEmail(email))return;const message=undefined;send({from:"rolazaraberin.test@gmail.com",to:email,subject:"Signup Confirmation",text:`${email} has been signed up for Online Store`,html:`<p>${email} has been signed up for Online Store</p>`})}function deleteConfirmation(email){if(isTestEmail(email))return;const message=undefined;send({from:"rolazaraberin.test@gmail.com",to:email,subject:"Delete Confirmation",text:`${email} has been deleted from Online Store`,html:`<p>${email} has been deleted from Online Store</p>`})}async function send(message){try{const result=undefined;return(await mail_1.default.send(message))[0].statusCode}catch(asyncError){const{error:error,code:code,message:message}=await(0,errorUtils_1.handleAsyncError)(asyncError);console.log(error)}}function isTestEmail(email){switch(email){case"new@email.com":case"temp@email.com":case"temporary@email.com":case"correct@email.com":case"permanent@email.com":return!0}return!1}exports.default=sendEmail,mail_1.default.setApiKey(process.env.sendGridApiKey);