"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const utilityFunctions_1=require("../utils/utilityFunctions"),cartUtils_1=require("./cartUtils"),testUtils_1=require("./testUtils");jest.setTimeout(25e3),describe("createCart()",(()=>{it("returns the id of newly created cart",(async()=>{const cartId=await(0,cartUtils_1.createCart)();expect(cartId).toBeDefined();const cart=await(0,cartUtils_1.getCartById)(cartId),result=Number(cart.id);await(0,cartUtils_1.deleteCartById)(cartId),expect(result).toBe(cartId)}))})),describe("getItemsByCart()",(()=>{test("Given a cart, it returns its items",(async()=>{const{cartID:cartID}=await(0,testUtils_1.getValidCredentials)(),cart=await(0,cartUtils_1.getCartById)(cartID),result=await(0,cartUtils_1.getItemsByCart)(cart);if((0,utilityFunctions_1.isArrayEmpty)(result))expect(result).toBeDefined();else{const item=result[0];expect(item).toHaveProperty("id"),expect(item).toHaveProperty("name"),expect(item).toHaveProperty("price"),expect(item).toHaveProperty("description")}}))})),describe("deleteCartById()",(()=>{test("Given a cart id, it deletes the cart",(async()=>{const id=await(0,cartUtils_1.createCart)();await(0,cartUtils_1.deleteCartById)(id);const result=(0,cartUtils_1.getCartById)(id);await expect(result).rejects.toBeDefined()}))}));