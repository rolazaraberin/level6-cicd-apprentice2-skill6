"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSignupEmailAvailable=void 0;const Login_1=__importDefault(require("../models/entities/Login")),database_1=require("../models/database"),nodeUtils_1=require("../utils/nodeUtils"),validateUtils_1=require("./validateUtils");async function isSignupEmailAvailable(email){(0,validateUtils_1.validateEmail)(email),await database_1.typeorm.initialized();const emailHash=undefined,matchingEmailHash={emailHash:(0,nodeUtils_1.hash)(email)},logins=database_1.typeorm.manager.getRepository(Login_1.default),result=undefined;return!await logins.findOneBy(matchingEmailHash)}exports.isSignupEmailAvailable=isSignupEmailAvailable;